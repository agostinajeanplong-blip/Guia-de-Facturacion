<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Guía de facturación-México</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --color-bg: linear-gradient(180deg, #002060 0%, #0D2E80 25%, #1E40AF 60%, #0047BA 100%);
      --color-bg-section: rgba(255, 255, 255, 0.97);
      --color-primary: #1A73E8;
      --color-primary-btn: #007BFF;
      --color-text: #1f2937;
      --color-text-on-dark: #FFFFFF;
      --color-text-muted: #6b7280;
      --color-border: #e5e7eb;
      --color-accent: #f59e0b;
      --shadow: 0 1px 3px rgba(0,0,0,.08);
      --shadow-md: 0 4px 12px rgba(0,0,0,.12);
      --radius: 12px;
      --radius-btn: 10px;
      --font-sans: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif;
    }

    * { box-sizing: border-box; }
    html { scroll-behavior: smooth; font-size: 12px; }
    body { margin: 0; font-family: var(--font-sans); font-size: 1rem; line-height: 1.6; color: var(--color-text); background: #0D2E80; background: linear-gradient(180deg, #002060 0%, #0D2E80 20%, #1E40AF 55%, #0047BA 100%); min-height: 100vh; }

    .nav-wrap { position: sticky; top: 0; z-index: 100; background: linear-gradient(180deg, #002060 0%, #0D2E80 100%); box-shadow: var(--shadow-md); }
    .nav-inner { max-width: 960px; margin: 0 auto; padding: 1rem 1.5rem; display: flex; flex-direction: column; align-items: center; }
    .logo-header { height: 43px; width: auto; margin-bottom: 2rem; display: block; filter: brightness(0) invert(1); }
    .nav-links { display: flex; flex-wrap: wrap; justify-content: center; gap: .5rem .6rem; list-style: none; margin: 0; padding: 0; }
    .nav-links a { display: inline-block; padding: .55rem 1rem; color: var(--color-text-on-dark); text-decoration: none; border-radius: var(--radius-btn); font-weight: 600; font-size: 14px; background: var(--color-primary-btn); border: none; transition: background .2s, transform .15s; }
    .nav-links a:hover { background: #0056b3; transform: translateY(-1px); }

    main { max-width: 720px; margin: 0 auto; padding: 2rem 1.5rem 4rem; }
    .section-inner { background: var(--color-bg-section); border-radius: var(--radius); padding: 1.75rem 1.5rem; margin-bottom: 2rem; box-shadow: var(--shadow-md); display: none; }
    .section-inner.panel-visible { display: block; }

    h1 { font-family: var(--font-sans); font-size: 1.75rem; font-weight: 700; color: #0D2E80; margin: 0 0 1rem 0; padding-bottom: .5rem; border-bottom: 2px solid var(--color-primary); }
    h2 { font-family: var(--font-sans); font-size: 1.35rem; font-weight: 600; color: var(--color-text); margin: 2rem 0 1rem 0; }
    p { margin: 0 0 1rem 0; }
    ul { margin: 0 0 1rem 0; padding-left: 1.5rem; }

    .card { background: #f0f7ff; border-radius: var(--radius); padding: 1.25rem 1.5rem; margin: 1rem 0; border: 1px solid rgba(26, 115, 232, 0.3); box-shadow: var(--shadow); }
    .card.info { border-left: 4px solid var(--color-primary); background: #eff6ff; border-color: rgba(26, 115, 232, 0.4); }

    .fiscal-table { width: 100%; border-collapse: collapse; font-size: .9rem; margin: 1rem 0; }
    .fiscal-table th, .fiscal-table td { padding: .6rem .75rem; border: 1px solid var(--color-border); text-align: left; }
    .fiscal-table th { background: #eef2ff; font-weight: 600; color: #0D2E80; }
    .fiscal-table td.si { color: #0D2E80; font-weight: 500; }
    .fiscal-table td.dep { color: var(--color-text-muted); }

    select { width: 100%; max-width: 360px; padding: .6rem .75rem; font-family: var(--font-sans); font-size: 1rem; border: 1px solid var(--color-border); border-radius: 8px; background: #fff; cursor: pointer; margin-bottom: 1rem; }

    .ejemplo-factura { margin-top: 1rem; padding: 1.25rem; background: #f8fafc; border-radius: var(--radius); border: 1px solid var(--color-border); }
    .ejemplo-factura table { width: 100%; border-collapse: collapse; font-size: .95rem; }
    .ejemplo-factura th, .ejemplo-factura td { text-align: left; padding: .5rem .75rem; border-bottom: 1px solid var(--color-border); }
    .ejemplo-factura .total-row td { font-weight: 700; font-size: 1.05rem; padding-top: .75rem; }

    .cfdi-ejemplo { margin-top: 1.5rem; border: 1px solid var(--color-border); border-radius: var(--radius); overflow: hidden; background: #fff; font-size: .85rem; }
    .cfdi-ejemplo .cfdi-titulo { background: #0D2E80; color: #fff; padding: .6rem 1rem; font-weight: 700; }
    .cfdi-ejemplo .cfdi-cuerpo { padding: 1rem; display: grid; gap: 1rem; }
    .cfdi-ejemplo .cfdi-fila { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
    .cfdi-ejemplo .cfdi-emisor, .cfdi-ejemplo .cfdi-receptor { padding: .6rem .75rem; background: #f8fafc; border-radius: 8px; border: 1px solid var(--color-border); }
    .cfdi-ejemplo .cfdi-emisor h4, .cfdi-ejemplo .cfdi-receptor h4 { margin: 0 0 .5rem 0; font-size: .8rem; color: #0D2E80; text-transform: uppercase; }

    .contact-list { list-style: none; padding-left: 0; }
    .contact-list a { color: var(--color-primary); text-decoration: none; font-weight: 600; }

    @media (max-width: 640px) {
      .cfdi-ejemplo .cfdi-fila { grid-template-columns: 1fr; }
      .nav-links { flex-direction: column; width: 100%; max-width: 280px; }
    }
  </style>
</head>
<body>

  <nav class="nav-wrap">
    <div class="nav-inner">
      <img class="logo-header" src="https://upload.wikimedia.org/wikipedia/commons/7/78/Logo_de_Tiendanube.svg" alt="Tiendanube">
      <ul class="nav-links">
        <li><a href="#ejemplo-facturacion" class="nav-btn" data-panel="ejemplo-facturacion">Ejemplo por régimen</a></li>
        <li><a href="#datos-fiscales" class="nav-btn" data-panel="datos-fiscales">Datos fiscales</a></li>
        <li><a href="#requisitos-fiscales" class="nav-btn" data-panel="requisitos-fiscales">Requisitos fiscales</a></li>
        <li><a href="#documentacion" class="nav-btn" data-panel="documentacion">Documentación y envío</a></li>
      </ul>
    </div>
  </nav>

  <main>
    <section id="ejemplo-facturacion">
      <div class="section-inner panel-visible" data-panel="ejemplo-facturacion">
        <h1>Ejemplo de facturación por régimen fiscal</h1>
        <p>Ejemplo con un <strong>total de $1,000 MXN</strong>. El IVA y las retenciones dependen de tu régimen fiscal.</p>
        
        <label for="regimen-select">Selecciona tu régimen fiscal</label>
        <select id="regimen-select">
          <option value="">-- Elige un régimen --</option>
          <option value="pf-actividades">Personas Físicas con Actividades Empresariales y Profesionales</option>
          <option value="resico-pf">Régimen Simplificado de Confianza (Persona Física)</option>
          <option value="resico-pm">Régimen Simplificado de Confianza (Persona Moral)</option>
          <option value="general-pm">General de Ley Personas Morales</option>
        </select>

        <div id="contenedor-ejemplo" class="ejemplo-factura">
          <div id="tabla-ejemplo">
            <p class="placeholder-ejemplo">Selecciona un régimen para ver el desglose y el ejemplo de factura tipo CFDI.</p>
          </div>
          <div id="cfdi-ejemplo" class="cfdi-ejemplo" hidden></div>
        </div>
      </div>
    </section>

    <section id="datos-fiscales">
      <div class="section-inner" data-panel="datos-fiscales">
        <h1>Datos fiscales de Tiendanube México</h1>
        <p>Utiliza esta información en tu facturación electrónica. Datos correspondientes a la Constancia de Situación Fiscal (CSF).</p>
        <div class="card info">
          <p><strong>RFC:</strong> NSM1805295G4</p>
          <p><strong>Denominación / Razón social:</strong> NUVEM SHOP MEXICO</p>
          <p><strong>Régimen fiscal:</strong> Régimen General de Ley Personas Morales</p>
          <p><strong>Domicilio fiscal:</strong> Av. Sonora 46, Interior 201, Col. Roma Norte, CP 06700, Cuauhtémoc, CDMX.</p>
        </div>
      </div>
    </section>

    <section id="requisitos-fiscales">
      <div class="section-inner" data-panel="requisitos-fiscales">
        <h1>Requisitos fiscales y retenciones</h1>
        <p>Tiendanube requiere verificar tu régimen fiscal (CSF) para aplicar impuestos y retenciones:</p>
        <table class="fiscal-table">
          <thead>
            <tr>
              <th>Régimen fiscal</th>
              <th>IVA 16%</th>
              <th>Ret. IVA 10.6666%</th>
              <th>Ret. ISR 1.25%</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>Personas Físicas con Actividades Empresariales</td><td class="si">Aplica</td><td class="dep">Según servicio</td><td class="dep">1.25% hasta el 10%</td></tr>
            <tr><td>RESICO (Persona Física)</td><td class="si">Aplica</td><td class="si">Aplica</td><td class="si">Aplica</td></tr>
            <tr><td>General de Ley Personas Morales</td><td class="si">Aplica</td><td>-</td><td>-</td></tr>
          </tbody>
        </table>
        <h2>Consideraciones generales</h2>
        <ul>
          <li><strong>Forma de pago:</strong> "Por definir" (99).</li>
          <li><strong>Uso de CFDI:</strong> Gastos en general.</li>
          <li><strong>Método de pago:</strong> PPD (Pagos en Parcialidades o Diferidos).</li>
        </ul>
      </div>
    </section>

    <section id="documentacion">
      <div class="section-inner" data-panel="documentacion">
        <h1>Documentación necesaria y envío</h1>
        
        <h2>Documentos que debes enviar</h2>
        <ul>
          <li>Factura en formato <strong>PDF</strong></li>
          <li><strong>Constancia de Situación Fiscal</strong> actualizada</li>
          <li><strong>Carátula bancaria</strong> (para transferencia)</li>
        </ul>

        <h2>Envío de facturas al equipo de Controlling</h2>
        <p>Envía las facturas a la casilla correspondiente:</p>
        <ul class="contact-list">
          <li><a href="mailto:vendors_mx@tiendanube.com">vendors_mx@tiendanube.com</a></li>
        </ul>

        <div class="card info">
          <p>El pago de las facturas se realiza dentro de <strong>30 días</strong> luego de su recepción.</p>
          <p>En el caso de necesitar una excepción, solicitarla por el canal de Slack: <strong>#mex-excepción-pago-vendors</strong>.</p>
        </div>
      </div>
    </section>
  </main>

  <script>
    (function () {
      // Navegación
      function mostrarPanel(panelId) {
        document.querySelectorAll('.section-inner').forEach(el => {
          el.classList.toggle('panel-visible', el.getAttribute('data-panel') === panelId);
        });
      }

      document.querySelectorAll('.nav-btn').forEach(link => {
        link.addEventListener('click', function (e) {
          e.preventDefault();
          const id = this.getAttribute('data-panel');
          mostrarPanel(id);
          history.replaceState(null, '', '#' + id);
        });
      });

      // Lógica básica del calculador para demostración
      document.getElementById('regimen-select').addEventListener('change', function() {
        const val = this.value;
        const tabla = document.getElementById('tabla-ejemplo');
        if(!val) {
          tabla.innerHTML = '<p class="placeholder-ejemplo">Selecciona un régimen para ver el desglose.</p>';
          return;
        }
        // Aquí se integraría la lógica de cálculo original para subtotal, IVA y retenciones
        tabla.innerHTML = '<div class="ejemplo-factura"><table><tr class="total-row"><td>Total a pagar</td><td style="text-align:right;">$1,000.00</td></tr></table></div>';
      });

      // Carga inicial
      const hash = window.location.hash.replace('#', '') || 'ejemplo-facturacion';
      mostrarPanel(hash);
    })();
  </script>

</body>
</html>
